{% extends "base.html" %}
{% block content %}
<div class="container add-book-container">
    <h2>Add New Book</h2>
    
    <div class="add-book-form">
        <form method="POST" action="{{ url_for('main.add_book') }}">
            {{ form.hidden_tag() }}
            
            <div class="form-group">
                {{ form.title.label(class="form-label") }}
                {{ form.title(class="form-control") }}
                {% if form.title.errors %}
                    {% for error in form.title.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                {% endif %}
            </div>
            
            <div class="form-group">
                {{ form.author.label(class="form-label") }}
                {{ form.author(class="form-control") }}
                {% if form.author.errors %}
                    {% for error in form.author.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                {% endif %}
            </div>
            
            <div class="form-group">
                {{ form.publication_year.label(class="form-label") }}
                {{ form.publication_year(class="form-control") }}
                {% if form.publication_year.errors %}
                    {% for error in form.publication_year.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                {% endif %}
            </div>
            
            <div class="form-group">
                {{ form.category.label(class="form-label") }}
                {{ form.category(class="form-control") }}
                {% if form.category.errors %}
                    {% for error in form.category.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                {% endif %}
            </div>
            
            <div class="form-group">
                {{ form.availability_status.label(class="form-label") }}
                {{ form.availability_status(class="form-control") }}
                {% if form.availability_status.errors %}
                    {% for error in form.availability_status.errors %}
                        <span class="error-message">{{ error }}</span>
                    {% endfor %}
                {% endif %}
            </div>
            
            {{ form.submit(class="btn btn-primary") }}
        </form>
    </div>
</div>

<!-- 添加表单验证脚本 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.querySelector('form');
    form.addEventListener('submit', function(e) {
        const title = form.querySelector('[name="title"]').value.trim();
        const author = form.querySelector('[name="author"]').value.trim();
        const year = form.querySelector('[name="publication_year"]').value.trim();
        
        if (!title || !author || !year) {
            e.preventDefault();
            alert('Please fill in all required fields');
        }
    });
});
</script>
{% endblock %} 